<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: IDatabaseConnection Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('class_i_database_connection.html','','class_i_database_connection-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">IDatabaseConnection Interface Reference<span class="mlabels"><span class="mlabel abstract">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Giao diện trừu tượng đại diện cho kết nối đến cơ sở dữ liệu.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_interface_database_connection_8h_source.html">InterfaceDatabaseConnection.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for IDatabaseConnection:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_i_database_connection.png" usemap="#IDatabaseConnection_map" alt=""/>
  <map id="IDatabaseConnection_map" name="IDatabaseConnection_map">
<area href="class_my_s_q_l_x_connection.html" title="Hiện thực lớp IDatabaseConnection bằng MySQL X DevAPI." alt="MySQLXConnection" shape="rect" coords="0,56,132,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a79dc274a00eee785fc177795715225c9" id="r_a79dc274a00eee785fc177795715225c9"><td class="memItemLeft" align="right" valign="top"><a id="a79dc274a00eee785fc177795715225c9" name="a79dc274a00eee785fc177795715225c9"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><b>~IDatabaseConnection</b> ()=default</td></tr>
<tr class="memdesc:a79dc274a00eee785fc177795715225c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor ảo để đảm bảo giải phóng tài nguyên đúng cách. <br /></td></tr>
<tr class="memitem:a215ad178a8f529fc71a0ab126b6961b7" id="r_a215ad178a8f529fc71a0ab126b6961b7"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a215ad178a8f529fc71a0ab126b6961b7">connect</a> (const std::string &amp;host, const std::string &amp;user, const std::string &amp;password, const std::string &amp;database, const int &amp;port=33060)=0</td></tr>
<tr class="memdesc:a215ad178a8f529fc71a0ab126b6961b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thiết lập kết nối đến cơ sở dữ liệu.  <br /></td></tr>
<tr class="memitem:a638a683010fbaf3887911f3580a0ec3e" id="r_a638a683010fbaf3887911f3580a0ec3e"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="_result_8h.html#ac3acf2574669ca01414926f195ec2617">VoidResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a638a683010fbaf3887911f3580a0ec3e">disconnect</a> ()=0</td></tr>
<tr class="memdesc:a638a683010fbaf3887911f3580a0ec3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ngắt kết nối hiện tại khỏi cơ sở dữ liệu.  <br /></td></tr>
<tr class="memitem:aa23ae55f58d7a912b260220ced53ae96" id="r_aa23ae55f58d7a912b260220ced53ae96"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa23ae55f58d7a912b260220ced53ae96">execute</a> (const std::string &amp;query)=0</td></tr>
<tr class="memdesc:aa23ae55f58d7a912b260220ced53ae96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thực thi câu lệnh SQL không có kết quả trả về (INSERT, UPDATE, DELETE).  <br /></td></tr>
<tr class="memitem:a22e25b341f52a9194f7e4a8c76a52642" id="r_a22e25b341f52a9194f7e4a8c76a52642"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; std::unique_ptr&lt; <a class="el" href="class_i_database_result.html">IDatabaseResult</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a22e25b341f52a9194f7e4a8c76a52642">executeQuery</a> (const std::string &amp;query)=0</td></tr>
<tr class="memdesc:a22e25b341f52a9194f7e4a8c76a52642"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thực thi truy vấn SQL có kết quả trả về (SELECT).  <br /></td></tr>
<tr class="memitem:a953ac20506619245804677d2ba055726" id="r_a953ac20506619245804677d2ba055726"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a953ac20506619245804677d2ba055726">prepareStatement</a> (const std::string &amp;query)=0</td></tr>
<tr class="memdesc:a953ac20506619245804677d2ba055726"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tạo prepared statement với các placeholder (? hoặc :param).  <br /></td></tr>
<tr class="memitem:a88cc3a19632fe1e267b148dc14debcd6" id="r_a88cc3a19632fe1e267b148dc14debcd6"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a88cc3a19632fe1e267b148dc14debcd6">executeStatement</a> (const int &amp;statementId)=0</td></tr>
<tr class="memdesc:a88cc3a19632fe1e267b148dc14debcd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thực thi prepared statement không trả về kết quả.  <br /></td></tr>
<tr class="memitem:a6b01e8a225db6bdce39c5edb7ee2c8f3" id="r_a6b01e8a225db6bdce39c5edb7ee2c8f3"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; std::unique_ptr&lt; <a class="el" href="class_i_database_result.html">IDatabaseResult</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6b01e8a225db6bdce39c5edb7ee2c8f3">executeQueryStatement</a> (const int &amp;statementId)=0</td></tr>
<tr class="memdesc:a6b01e8a225db6bdce39c5edb7ee2c8f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thực thi prepared statement có trả về kết quả.  <br /></td></tr>
<tr class="memitem:a7ba95907a32e7e1f5d250b7819e5b0be" id="r_a7ba95907a32e7e1f5d250b7819e5b0be"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="_result_8h.html#ac3acf2574669ca01414926f195ec2617">VoidResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7ba95907a32e7e1f5d250b7819e5b0be">freeStatement</a> (const int &amp;statementId)=0</td></tr>
<tr class="memdesc:a7ba95907a32e7e1f5d250b7819e5b0be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Giải phóng tài nguyên của prepared statement.  <br /></td></tr>
<tr class="memitem:a6628ce9643ab7ab94662492b25c43aad" id="r_a6628ce9643ab7ab94662492b25c43aad"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6628ce9643ab7ab94662492b25c43aad">getLastInsertId</a> ()=0</td></tr>
<tr class="memdesc:a6628ce9643ab7ab94662492b25c43aad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lấy ID của bản ghi được chèn gần nhất.  <br /></td></tr>
<tr class="memitem:a8cdba8fc479aa97d7f270a5645b87aa0" id="r_a8cdba8fc479aa97d7f270a5645b87aa0"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8cdba8fc479aa97d7f270a5645b87aa0">isConnected</a> () const =0</td></tr>
<tr class="memdesc:a8cdba8fc479aa97d7f270a5645b87aa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Kiểm tra trạng thái kết nối.  <br /></td></tr>
<tr class="memitem:abef0528606971cd44f17f0610704878d" id="r_abef0528606971cd44f17f0610704878d"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abef0528606971cd44f17f0610704878d">getLastError</a> () const =0</td></tr>
<tr class="memdesc:abef0528606971cd44f17f0610704878d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trả về thông báo lỗi gần nhất.  <br /></td></tr>
<tr id="pub-methods-0" class="groupHeader"><td colspan="2"><div class="groupHeader">Gán giá trị tham số cho prepared statement</div></td></tr>
<tr class="memitem:abdc16c70403870643793a071cca059dc" id="r_abdc16c70403870643793a071cca059dc"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="_result_8h.html#ac3acf2574669ca01414926f195ec2617">VoidResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abdc16c70403870643793a071cca059dc">setString</a> (const int &amp;statementId, const int &amp;paramIndex, const std::string &amp;value)=0</td></tr>
<tr class="memdesc:abdc16c70403870643793a071cca059dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gán giá trị chuỗi cho parameter của prepared statement.  <br /></td></tr>
<tr class="memitem:a79f545880b82f12dfac2deb29f03d127" id="r_a79f545880b82f12dfac2deb29f03d127"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="_result_8h.html#ac3acf2574669ca01414926f195ec2617">VoidResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a79f545880b82f12dfac2deb29f03d127">setInt</a> (const int &amp;statementId, const int &amp;paramIndex, const int &amp;value)=0</td></tr>
<tr class="memdesc:a79f545880b82f12dfac2deb29f03d127"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gán giá trị số nguyên cho parameter của prepared statement.  <br /></td></tr>
<tr class="memitem:a9c8b7ff9d2d551f5f2fd98e32be38b7b" id="r_a9c8b7ff9d2d551f5f2fd98e32be38b7b"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="_result_8h.html#ac3acf2574669ca01414926f195ec2617">VoidResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c8b7ff9d2d551f5f2fd98e32be38b7b">setDouble</a> (const int &amp;statementId, const int &amp;paramIndex, const double &amp;value)=0</td></tr>
<tr class="memdesc:a9c8b7ff9d2d551f5f2fd98e32be38b7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gán giá trị số thực cho parameter của prepared statement.  <br /></td></tr>
<tr class="memitem:a348438f2a1096aa615134ea26a778391" id="r_a348438f2a1096aa615134ea26a778391"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="_result_8h.html#ac3acf2574669ca01414926f195ec2617">VoidResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a348438f2a1096aa615134ea26a778391">setDateTime</a> (const int &amp;statementId, const int &amp;paramIndex, const std::tm &amp;value)=0</td></tr>
<tr class="memdesc:a348438f2a1096aa615134ea26a778391"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gán giá trị thời gian cho parameter của prepared statement.  <br /></td></tr>
<tr id="pub-methods-1" class="groupHeader"><td colspan="2"><div class="groupHeader">Transaction Control</div></td></tr>
<tr class="memitem:a0691fceef9ce90b679ac08243330cef7" id="r_a0691fceef9ce90b679ac08243330cef7"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0691fceef9ce90b679ac08243330cef7">beginTransaction</a> ()=0</td></tr>
<tr class="memdesc:a0691fceef9ce90b679ac08243330cef7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bắt đầu một transaction mới.  <br /></td></tr>
<tr class="memitem:a5109a836362f81043752d1df3f536ab3" id="r_a5109a836362f81043752d1df3f536ab3"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5109a836362f81043752d1df3f536ab3">commitTransaction</a> ()=0</td></tr>
<tr class="memdesc:a5109a836362f81043752d1df3f536ab3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commit transaction hiện tại, lưu tất cả thay đổi.  <br /></td></tr>
<tr class="memitem:aa06d60e63d1d64f7e377d4e03aaeeb8e" id="r_aa06d60e63d1d64f7e377d4e03aaeeb8e"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa06d60e63d1d64f7e377d4e03aaeeb8e">rollbackTransaction</a> ()=0</td></tr>
<tr class="memdesc:aa06d60e63d1d64f7e377d4e03aaeeb8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rollback transaction hiện tại, hủy tất cả thay đổi.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Giao diện trừu tượng đại diện cho kết nối đến cơ sở dữ liệu. </p>
<p>Cho phép quản lý truy vấn SQL, transaction, và các thao tác với prepared statement.</p>
<p>Interface này cung cấp đầy đủ chức năng để:</p><ul>
<li>Quản lý kết nối database (connect/disconnect)</li>
<li>Thực thi câu lệnh SQL trực tiếp</li>
<li>Quản lý prepared statements với parameter binding</li>
<li>Điều khiển transactions (begin/commit/rollback)</li>
<li>Xử lý lỗi và kiểm tra trạng thái</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Thiết kế theo mẫu Strategy Pattern, cho phép thay đổi implementation mà không ảnh hưởng đến code sử dụng. </dd></dl>
</div><a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a0691fceef9ce90b679ac08243330cef7" name="a0691fceef9ce90b679ac08243330cef7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0691fceef9ce90b679ac08243330cef7">&#9670;&#160;</a></span>beginTransaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; bool &gt; IDatabaseConnection::beginTransaction </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Bắt đầu một transaction mới. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385" title="Kiểu Result có thể chứa giá trị kiểu T hoặc CoreError.">Result&lt;bool&gt;</a><ul>
<li>Success(true): Transaction được bắt đầu thành công</li>
<li>Failure: Không có kết nối hoặc đã có transaction active</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Phải có kết nối active và chưa có transaction nào đang chạy </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Tất cả operations tiếp theo sẽ nằm trong transaction</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Transaction sẽ được rollback tự động nếu connection bị đóng </dd>
<dd>
Nên luôn kết thúc transaction bằng commit() hoặc rollback() </dd></dl>

<p>Implemented in <a class="el" href="class_my_s_q_l_x_connection.html#abba247f190aca5a53d150b6aee9472dd">MySQLXConnection</a>.</p>

</div>
</div>
<a id="a5109a836362f81043752d1df3f536ab3" name="a5109a836362f81043752d1df3f536ab3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5109a836362f81043752d1df3f536ab3">&#9670;&#160;</a></span>commitTransaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; bool &gt; IDatabaseConnection::commitTransaction </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Commit transaction hiện tại, lưu tất cả thay đổi. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385" title="Kiểu Result có thể chứa giá trị kiểu T hoặc CoreError.">Result&lt;bool&gt;</a><ul>
<li>Success(true): Commit thành công, thay đổi được lưu vĩnh viễn</li>
<li>Failure: Không có transaction active hoặc conflict xảy ra</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Phải có transaction active được tạo bởi <a class="el" href="#a0691fceef9ce90b679ac08243330cef7" title="Bắt đầu một transaction mới.">beginTransaction()</a> </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Transaction kết thúc, có thể bắt đầu transaction mới</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Một khi commit thành công, không thể rollback các thay đổi </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Nếu có conflict, transaction sẽ được rollback tự động </dd></dl>

<p>Implemented in <a class="el" href="class_my_s_q_l_x_connection.html#ac5676567a71d287cf42d7f2990e5481f">MySQLXConnection</a>.</p>

</div>
</div>
<a id="a215ad178a8f529fc71a0ab126b6961b7" name="a215ad178a8f529fc71a0ab126b6961b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a215ad178a8f529fc71a0ab126b6961b7">&#9670;&#160;</a></span>connect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; bool &gt; IDatabaseConnection::connect </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>host</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>user</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>password</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>database</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;</td>          <td class="paramname"><span class="paramname"><em>port</em></span><span class="paramdefsep"> = </span><span class="paramdefval">33060</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Thiết lập kết nối đến cơ sở dữ liệu. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">host</td><td>Tên máy chủ hoặc địa chỉ IP của database server </td></tr>
    <tr><td class="paramname">user</td><td>Tên người dùng để xác thực </td></tr>
    <tr><td class="paramname">password</td><td>Mật khẩu của người dùng </td></tr>
    <tr><td class="paramname">database</td><td>Tên cơ sở dữ liệu cần kết nối </td></tr>
    <tr><td class="paramname">port</td><td>Cổng kết nối (mặc định là 33060 cho XAPIDev của MySQL)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385" title="Kiểu Result có thể chứa giá trị kiểu T hoặc CoreError.">Result&lt;bool&gt;</a><ul>
<li>Success(true): Kết nối thành công</li>
<li>Failure: Thông tin kết nối sai hoặc server không khả dụng</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Chưa có kết nối active nào khác </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Nếu thành công, có thể thực hiện các operation database</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Nếu đã có kết nối active, nên gọi <a class="el" href="#a638a683010fbaf3887911f3580a0ec3e" title="Ngắt kết nối hiện tại khỏi cơ sở dữ liệu.">disconnect()</a> trước </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Thông tin xác thực sẽ được gửi qua mạng, cần đảm bảo bảo mật </dd></dl>

<p>Implemented in <a class="el" href="class_my_s_q_l_x_connection.html#a6a6824cc628ac9a932db0d9b4eeab18d">MySQLXConnection</a>.</p>

</div>
</div>
<a id="a638a683010fbaf3887911f3580a0ec3e" name="a638a683010fbaf3887911f3580a0ec3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a638a683010fbaf3887911f3580a0ec3e">&#9670;&#160;</a></span>disconnect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="_result_8h.html#ac3acf2574669ca01414926f195ec2617">VoidResult</a> IDatabaseConnection::disconnect </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ngắt kết nối hiện tại khỏi cơ sở dữ liệu. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_result_8h.html#ac3acf2574669ca01414926f195ec2617" title="Kiểu Result cho các thao tác không trả về giá trị">VoidResult</a><ul>
<li>Success: Ngắt kết nối thành công hoặc chưa có kết nối</li>
<li>Failure: Có lỗi trong quá trình ngắt kết nối</li>
</ul>
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Tất cả prepared statements sẽ bị hủy </dd>
<dd>
Các transaction chưa commit sẽ bị rollback</dd></dl>
<dl class="section note"><dt>Note</dt><dd>An toàn khi gọi nhiều lần hoặc khi chưa có kết nối </dd></dl>

<p>Implemented in <a class="el" href="class_my_s_q_l_x_connection.html#ab4a093c1f89f1d026f78b5e7d3351587">MySQLXConnection</a>.</p>

</div>
</div>
<a id="aa23ae55f58d7a912b260220ced53ae96" name="aa23ae55f58d7a912b260220ced53ae96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa23ae55f58d7a912b260220ced53ae96">&#9670;&#160;</a></span>execute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; bool &gt; IDatabaseConnection::execute </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>query</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Thực thi câu lệnh SQL không có kết quả trả về (INSERT, UPDATE, DELETE). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>Câu truy vấn SQL cần thực thi</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385" title="Kiểu Result có thể chứa giá trị kiểu T hoặc CoreError.">Result&lt;bool&gt;</a><ul>
<li>Success(true): Thực thi thành công</li>
<li>Failure: Syntax error, permission denied, hoặc constraint violation</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Phải có kết nối active đến database </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Áp dụng cho các câu lệnh DML không trả về result set </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Không hỗ trợ parameter binding, cần cẩn thận với SQL injection </dd></dl>

<p>Implemented in <a class="el" href="class_my_s_q_l_x_connection.html#aad02475e0eba66dc472910f13efa6afc">MySQLXConnection</a>.</p>

</div>
</div>
<a id="a22e25b341f52a9194f7e4a8c76a52642" name="a22e25b341f52a9194f7e4a8c76a52642"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22e25b341f52a9194f7e4a8c76a52642">&#9670;&#160;</a></span>executeQuery()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; std::unique_ptr&lt; <a class="el" href="class_i_database_result.html">IDatabaseResult</a> &gt; &gt; IDatabaseConnection::executeQuery </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>query</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Thực thi truy vấn SQL có kết quả trả về (SELECT). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>Câu truy vấn SQL SELECT</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385" title="Kiểu Result có thể chứa giá trị kiểu T hoặc CoreError.">Result&lt;std::unique_ptr&lt;IDatabaseResult&gt;&gt;</a><ul>
<li>Success: Con trỏ tới đối tượng kết quả</li>
<li>Failure: Syntax error, permission denied, hoặc không có dữ liệu</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Phải có kết nối active đến database </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Kết quả trả về cần được sử dụng ngay hoặc lưu trữ an toàn</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Chỉ áp dụng cho các câu lệnh SELECT và stored procedures trả về result set </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd><a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385" title="Kiểu Result có thể chứa giá trị kiểu T hoặc CoreError.">Result</a> object có thể bị invalidate khi connection bị đóng </dd></dl>

<p>Implemented in <a class="el" href="class_my_s_q_l_x_connection.html#a29b4028436bb95f5b0df31abb825ef86">MySQLXConnection</a>.</p>

</div>
</div>
<a id="a6b01e8a225db6bdce39c5edb7ee2c8f3" name="a6b01e8a225db6bdce39c5edb7ee2c8f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b01e8a225db6bdce39c5edb7ee2c8f3">&#9670;&#160;</a></span>executeQueryStatement()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; std::unique_ptr&lt; <a class="el" href="class_i_database_result.html">IDatabaseResult</a> &gt; &gt; IDatabaseConnection::executeQueryStatement </td>
          <td>(</td>
          <td class="paramtype">const int &amp;</td>          <td class="paramname"><span class="paramname"><em>statementId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Thực thi prepared statement có trả về kết quả. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statementId</td><td>ID của statement cần thực thi</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385" title="Kiểu Result có thể chứa giá trị kiểu T hoặc CoreError.">Result&lt;std::unique_ptr&lt;IDatabaseResult&gt;&gt;</a><ul>
<li>Success: Con trỏ tới kết quả trả về</li>
<li>Failure: Statement không tồn tại, thiếu parameter, hoặc SQL error</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Statement phải được prepare và tất cả parameter phải được bind </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Kết quả trả về cần được xử lý ngay hoặc lưu trữ an toàn</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Áp dụng cho SELECT statements và stored procedures </dd>
<dd>
Statement có thể được thực thi nhiều lần với parameter khác nhau </dd></dl>

<p>Implemented in <a class="el" href="class_my_s_q_l_x_connection.html#add2de4cfa561058d15de9acdffc44a07">MySQLXConnection</a>.</p>

</div>
</div>
<a id="a88cc3a19632fe1e267b148dc14debcd6" name="a88cc3a19632fe1e267b148dc14debcd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88cc3a19632fe1e267b148dc14debcd6">&#9670;&#160;</a></span>executeStatement()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; bool &gt; IDatabaseConnection::executeStatement </td>
          <td>(</td>
          <td class="paramtype">const int &amp;</td>          <td class="paramname"><span class="paramname"><em>statementId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Thực thi prepared statement không trả về kết quả. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statementId</td><td>ID của statement cần thực thi</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385" title="Kiểu Result có thể chứa giá trị kiểu T hoặc CoreError.">Result&lt;bool&gt;</a><ul>
<li>Success(true): Thực thi thành công</li>
<li>Failure: Statement không tồn tại, thiếu parameter, hoặc SQL error</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Statement phải được prepare và tất cả parameter phải được bind </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Áp dụng cho INSERT, UPDATE, DELETE statements </dd>
<dd>
Statement có thể được thực thi nhiều lần với parameter khác nhau </dd></dl>

<p>Implemented in <a class="el" href="class_my_s_q_l_x_connection.html#a1f6b8a43a05db2a8254d6f22fc0e4a31">MySQLXConnection</a>.</p>

</div>
</div>
<a id="a7ba95907a32e7e1f5d250b7819e5b0be" name="a7ba95907a32e7e1f5d250b7819e5b0be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ba95907a32e7e1f5d250b7819e5b0be">&#9670;&#160;</a></span>freeStatement()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="_result_8h.html#ac3acf2574669ca01414926f195ec2617">VoidResult</a> IDatabaseConnection::freeStatement </td>
          <td>(</td>
          <td class="paramtype">const int &amp;</td>          <td class="paramname"><span class="paramname"><em>statementId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Giải phóng tài nguyên của prepared statement. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statementId</td><td>ID của statement cần giải phóng</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_result_8h.html#ac3acf2574669ca01414926f195ec2617" title="Kiểu Result cho các thao tác không trả về giá trị">VoidResult</a><ul>
<li>Success: Giải phóng thành công hoặc statement không tồn tại</li>
<li>Failure: Có lỗi trong quá trình giải phóng</li>
</ul>
</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Statement ID sẽ không còn hợp lệ sau khi gọi </dd></dl>
<dl class="section note"><dt>Note</dt><dd>An toàn khi gọi với ID không tồn tại </dd>
<dd>
Nên gọi để giải phóng memory khi không cần statement nữa </dd></dl>

<p>Implemented in <a class="el" href="class_my_s_q_l_x_connection.html#a62fdaab52b3dae6f306d282e46ddc935">MySQLXConnection</a>.</p>

</div>
</div>
<a id="abef0528606971cd44f17f0610704878d" name="abef0528606971cd44f17f0610704878d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abef0528606971cd44f17f0610704878d">&#9670;&#160;</a></span>getLastError()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; std::string &gt; IDatabaseConnection::getLastError </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Trả về thông báo lỗi gần nhất. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385" title="Kiểu Result có thể chứa giá trị kiểu T hoặc CoreError.">Result&lt;std::string&gt;</a><ul>
<li>Success: Chuỗi mô tả lỗi (có thể rỗng nếu không có lỗi)</li>
<li>Failure: Hiếm khi xảy ra, chỉ khi có lỗi hệ thống nghiêm trọng</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Thông báo lỗi được cập nhật sau mỗi operation thất bại </dd>
<dd>
Hữu ích cho debugging và logging </dd></dl>

<p>Implemented in <a class="el" href="class_my_s_q_l_x_connection.html#ab380dccf86c55223ca865df543464712">MySQLXConnection</a>.</p>

</div>
</div>
<a id="a6628ce9643ab7ab94662492b25c43aad" name="a6628ce9643ab7ab94662492b25c43aad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6628ce9643ab7ab94662492b25c43aad">&#9670;&#160;</a></span>getLastInsertId()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; int &gt; IDatabaseConnection::getLastInsertId </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lấy ID của bản ghi được chèn gần nhất. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385" title="Kiểu Result có thể chứa giá trị kiểu T hoặc CoreError.">Result&lt;int&gt;</a><ul>
<li>Success: ID của bản ghi vừa INSERT (auto-increment)</li>
<li>Failure: Không có INSERT nào hoặc table không có auto-increment</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Phải có ít nhất một INSERT statement được thực thi thành công </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Chỉ áp dụng cho tables có cột AUTO_INCREMENT </dd>
<dd>
Giá trị chỉ có ý nghĩa trong session hiện tại </dd></dl>

<p>Implemented in <a class="el" href="class_my_s_q_l_x_connection.html#ab11d6681fdb2d9f58bf2bcc04bcb20e1">MySQLXConnection</a>.</p>

</div>
</div>
<a id="a8cdba8fc479aa97d7f270a5645b87aa0" name="a8cdba8fc479aa97d7f270a5645b87aa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cdba8fc479aa97d7f270a5645b87aa0">&#9670;&#160;</a></span>isConnected()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; bool &gt; IDatabaseConnection::isConnected </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Kiểm tra trạng thái kết nối. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385" title="Kiểu Result có thể chứa giá trị kiểu T hoặc CoreError.">Result&lt;bool&gt;</a><ul>
<li>Success(true): Đang có kết nối active</li>
<li>Success(false): Chưa kết nối hoặc đã mất kết nối</li>
<li>Failure: Có lỗi khi kiểm tra trạng thái</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Không ảnh hưởng đến trạng thái kết nối hiện tại </dd>
<dd>
Có thể được gọi bất cứ lúc nào mà không cần lo lắng về exception </dd></dl>

<p>Implemented in <a class="el" href="class_my_s_q_l_x_connection.html#a14b1f1ef39af0b4dde0d2340b9d3d309">MySQLXConnection</a>.</p>

</div>
</div>
<a id="a953ac20506619245804677d2ba055726" name="a953ac20506619245804677d2ba055726"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a953ac20506619245804677d2ba055726">&#9670;&#160;</a></span>prepareStatement()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; int &gt; IDatabaseConnection::prepareStatement </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>query</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tạo prepared statement với các placeholder (? hoặc :param). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>Chuỗi SQL có placeholder để bind parameter</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385" title="Kiểu Result có thể chứa giá trị kiểu T hoặc CoreError.">Result&lt;int&gt;</a><ul>
<li>Success: ID định danh duy nhất của prepared statement</li>
<li>Failure: Syntax error hoặc không thể parse statement</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Phải có kết nối active đến database </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Statement được lưu trong memory để sử dụng nhiều lần</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Placeholder sử dụng ký tự '?' (ví dụ: "SELECT * FROM users WHERE id = ?") </dd>
<dd>
Statement ID có thể được sử dụng cho đến khi gọi <a class="el" href="#a7ba95907a32e7e1f5d250b7819e5b0be" title="Giải phóng tài nguyên của prepared statement.">freeStatement()</a> </dd></dl>

<p>Implemented in <a class="el" href="class_my_s_q_l_x_connection.html#a970959bd817d83e0e851937af5124dd6">MySQLXConnection</a>.</p>

</div>
</div>
<a id="aa06d60e63d1d64f7e377d4e03aaeeb8e" name="aa06d60e63d1d64f7e377d4e03aaeeb8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa06d60e63d1d64f7e377d4e03aaeeb8e">&#9670;&#160;</a></span>rollbackTransaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385">Result</a>&lt; bool &gt; IDatabaseConnection::rollbackTransaction </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rollback transaction hiện tại, hủy tất cả thay đổi. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_result_8h.html#ac760baeab29427a70baa792390d4c385" title="Kiểu Result có thể chứa giá trị kiểu T hoặc CoreError.">Result&lt;bool&gt;</a><ul>
<li>Success(true): Rollback thành công, thay đổi được hủy</li>
<li>Failure: Không có transaction active hoặc lỗi hệ thống</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Phải có transaction active được tạo bởi <a class="el" href="#a0691fceef9ce90b679ac08243330cef7" title="Bắt đầu một transaction mới.">beginTransaction()</a> </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Transaction kết thúc, database trở về trạng thái trước khi begin</dd></dl>
<dl class="section note"><dt>Note</dt><dd>An toàn khi gọi nhiều lần hoặc khi không có transaction </dd>
<dd>
Tất cả thay đổi trong transaction sẽ bị hủy bỏ hoàn toàn </dd></dl>

<p>Implemented in <a class="el" href="class_my_s_q_l_x_connection.html#afa07420f6a12359961ded53c5b88036f">MySQLXConnection</a>.</p>

</div>
</div>
<a id="a348438f2a1096aa615134ea26a778391" name="a348438f2a1096aa615134ea26a778391"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a348438f2a1096aa615134ea26a778391">&#9670;&#160;</a></span>setDateTime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="_result_8h.html#ac3acf2574669ca01414926f195ec2617">VoidResult</a> IDatabaseConnection::setDateTime </td>
          <td>(</td>
          <td class="paramtype">const int &amp;</td>          <td class="paramname"><span class="paramname"><em>statementId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;</td>          <td class="paramname"><span class="paramname"><em>paramIndex</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::tm &amp;</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gán giá trị thời gian cho parameter của prepared statement. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statementId</td><td>ID của statement được tạo bởi <a class="el" href="#a953ac20506619245804677d2ba055726" title="Tạo prepared statement với các placeholder (? hoặc :param).">prepareStatement()</a> </td></tr>
    <tr><td class="paramname">paramIndex</td><td>Chỉ số parameter (bắt đầu từ 1) </td></tr>
    <tr><td class="paramname">value</td><td>Cấu trúc thời gian std::tm</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_result_8h.html#ac3acf2574669ca01414926f195ec2617" title="Kiểu Result cho các thao tác không trả về giá trị">VoidResult</a><ul>
<li>Success: Gán giá trị thành công</li>
<li>Failure: Statement ID không hợp lệ, param index sai, hoặc thời gian không hợp lệ</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Statement phải được tạo trước bằng <a class="el" href="#a953ac20506619245804677d2ba055726" title="Tạo prepared statement với các placeholder (? hoặc :param).">prepareStatement()</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Parameter index bắt đầu từ 1, không phải 0 </dd>
<dd>
Thời gian sẽ được format theo chuẩn ISO (YYYY-MM-DD HH:MM:SS) </dd></dl>

<p>Implemented in <a class="el" href="class_my_s_q_l_x_connection.html#a805cc443fdbaaede57e9dd47dfea0b83">MySQLXConnection</a>.</p>

</div>
</div>
<a id="a9c8b7ff9d2d551f5f2fd98e32be38b7b" name="a9c8b7ff9d2d551f5f2fd98e32be38b7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c8b7ff9d2d551f5f2fd98e32be38b7b">&#9670;&#160;</a></span>setDouble()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="_result_8h.html#ac3acf2574669ca01414926f195ec2617">VoidResult</a> IDatabaseConnection::setDouble </td>
          <td>(</td>
          <td class="paramtype">const int &amp;</td>          <td class="paramname"><span class="paramname"><em>statementId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;</td>          <td class="paramname"><span class="paramname"><em>paramIndex</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gán giá trị số thực cho parameter của prepared statement. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statementId</td><td>ID của statement được tạo bởi <a class="el" href="#a953ac20506619245804677d2ba055726" title="Tạo prepared statement với các placeholder (? hoặc :param).">prepareStatement()</a> </td></tr>
    <tr><td class="paramname">paramIndex</td><td>Chỉ số parameter (bắt đầu từ 1) </td></tr>
    <tr><td class="paramname">value</td><td>Giá trị số thực cần gán</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_result_8h.html#ac3acf2574669ca01414926f195ec2617" title="Kiểu Result cho các thao tác không trả về giá trị">VoidResult</a><ul>
<li>Success: Gán giá trị thành công</li>
<li>Failure: Statement ID không hợp lệ hoặc param index sai</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Statement phải được tạo trước bằng <a class="el" href="#a953ac20506619245804677d2ba055726" title="Tạo prepared statement với các placeholder (? hoặc :param).">prepareStatement()</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Parameter index bắt đầu từ 1, không phải 0 </dd>
<dd>
Độ chính xác phụ thuộc vào định dạng cột trong database </dd></dl>

<p>Implemented in <a class="el" href="class_my_s_q_l_x_connection.html#a858715b94712f6677a2763e7f439415c">MySQLXConnection</a>.</p>

</div>
</div>
<a id="a79f545880b82f12dfac2deb29f03d127" name="a79f545880b82f12dfac2deb29f03d127"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79f545880b82f12dfac2deb29f03d127">&#9670;&#160;</a></span>setInt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="_result_8h.html#ac3acf2574669ca01414926f195ec2617">VoidResult</a> IDatabaseConnection::setInt </td>
          <td>(</td>
          <td class="paramtype">const int &amp;</td>          <td class="paramname"><span class="paramname"><em>statementId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;</td>          <td class="paramname"><span class="paramname"><em>paramIndex</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gán giá trị số nguyên cho parameter của prepared statement. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statementId</td><td>ID của statement được tạo bởi <a class="el" href="#a953ac20506619245804677d2ba055726" title="Tạo prepared statement với các placeholder (? hoặc :param).">prepareStatement()</a> </td></tr>
    <tr><td class="paramname">paramIndex</td><td>Chỉ số parameter (bắt đầu từ 1) </td></tr>
    <tr><td class="paramname">value</td><td>Giá trị số nguyên cần gán</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_result_8h.html#ac3acf2574669ca01414926f195ec2617" title="Kiểu Result cho các thao tác không trả về giá trị">VoidResult</a><ul>
<li>Success: Gán giá trị thành công</li>
<li>Failure: Statement ID không hợp lệ hoặc param index sai</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Statement phải được tạo trước bằng <a class="el" href="#a953ac20506619245804677d2ba055726" title="Tạo prepared statement với các placeholder (? hoặc :param).">prepareStatement()</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Parameter index bắt đầu từ 1, không phải 0 </dd></dl>

<p>Implemented in <a class="el" href="class_my_s_q_l_x_connection.html#ac888713b104537ec97318dbeb9bb19fe">MySQLXConnection</a>.</p>

</div>
</div>
<a id="abdc16c70403870643793a071cca059dc" name="abdc16c70403870643793a071cca059dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdc16c70403870643793a071cca059dc">&#9670;&#160;</a></span>setString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="_result_8h.html#ac3acf2574669ca01414926f195ec2617">VoidResult</a> IDatabaseConnection::setString </td>
          <td>(</td>
          <td class="paramtype">const int &amp;</td>          <td class="paramname"><span class="paramname"><em>statementId</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;</td>          <td class="paramname"><span class="paramname"><em>paramIndex</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gán giá trị chuỗi cho parameter của prepared statement. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statementId</td><td>ID của statement được tạo bởi <a class="el" href="#a953ac20506619245804677d2ba055726" title="Tạo prepared statement với các placeholder (? hoặc :param).">prepareStatement()</a> </td></tr>
    <tr><td class="paramname">paramIndex</td><td>Chỉ số parameter (bắt đầu từ 1) </td></tr>
    <tr><td class="paramname">value</td><td>Giá trị chuỗi cần gán</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="_result_8h.html#ac3acf2574669ca01414926f195ec2617" title="Kiểu Result cho các thao tác không trả về giá trị">VoidResult</a><ul>
<li>Success: Gán giá trị thành công</li>
<li>Failure: Statement ID không hợp lệ hoặc param index sai</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Statement phải được tạo trước bằng <a class="el" href="#a953ac20506619245804677d2ba055726" title="Tạo prepared statement với các placeholder (? hoặc :param).">prepareStatement()</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Parameter index bắt đầu từ 1, không phải 0 </dd>
<dd>
Giá trị sẽ được tự động escape để tránh SQL injection </dd></dl>

<p>Implemented in <a class="el" href="class_my_s_q_l_x_connection.html#a42754e97b431138a67daedc32505b43c">MySQLXConnection</a>.</p>

</div>
</div>
<hr/>The documentation for this interface was generated from the following file:<ul>
<li>src/database/<a class="el" href="_interface_database_connection_8h_source.html">InterfaceDatabaseConnection.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="class_i_database_connection.html">IDatabaseConnection</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
